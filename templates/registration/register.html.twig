{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block stylesheets %}
    <!-- font icons -->
    <link rel="stylesheet" href="{{ asset('assets/vendors/themify-icons/css/themify-icons.css') }}">

    <link rel="stylesheet" href="{{ asset('assets/vendors/animate/animate.css') }}">

    <!-- Bootstrap + FoodHut main styles -->
    <link rel="stylesheet" href="{{ asset('assets/css/foodhut.css') }}">
{% endblock %}

{% block body %}
    <!-- Navbar -->
    <nav class="custom-navbar navbar navbar-expand-lg navbar-dark fixed-top" data-spy="affix" data-offset-top="10">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <a class="navbar-brand m-auto" href="#">
                <img src="{{ asset('assets/imgs/logo.svg') }}" class="brand-img" alt="">
                <span class="brand-txt">Food Hut</span>
            </a>
        </div>
    </nav>

    <!-- Header -->
    <header id="home" class="header">
        <div class="overlay text-white text-center">
    <h2 class="display-4 mb-5">Register</h2>

    {% for flash_error in app.flashes('verify_email_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

    {{ form_errors(registrationForm) }}

    {{ form_start(registrationForm) }}
        <div class="form-group">
            {{ form_row(registrationForm.name, {
                attr: { class: 'form-control', placeholder: 'Name' }
            }) }}
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.email, {
                attr: { class: 'form-control', placeholder: 'Email address' }
            }) }}
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.plainPassword, {
                label: 'Password',
                attr: { class: 'form-control', placeholder: 'Password' }
            }) }}
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.birthday, {
                attr: { class: 'form-control', placeholder: 'Date of Birth' }
            }) }}
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.agreeTerms) }}
        </div>

        <!-- Optional: Adding CSRF token manually -->
        {# Uncomment if needed #}
        {# {{ form_row(registrationForm._token) }} #}

        <div class="form-group">
            <button type="submit" class="btn btn-lg btn-primary">Register</button>
        </div>
    {{ form_end(registrationForm) }}

    <!-- Link to login page -->
    <div class="mt-3">
        <a href="/login" class="text-white">Zaloguj siÄ™</a>
    </div>
</div>

    </header>
{% endblock %}

{% block javascripts %}
    <!-- Bootstrap and necessary plugins -->
    <script src="{{ asset('assets/vendors/jquery/jquery-3.4.1.js') }}"></script>
    <script src="{{ asset('assets/vendors/bootstrap/bootstrap.bundle.js') }}"></script>
    <script src="{{ asset('assets/vendors/bootstrap/bootstrap.affix.js') }}"></script>

    <!-- FoodHut Custom scripts -->
    <script src="{{ asset('assets/js/foodhut.js') }}"></script>
{% endblock %}
